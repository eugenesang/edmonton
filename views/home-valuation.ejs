<!DOCTYPE html>
<html lang="en">
<%- include('head') %>

<body>
  <%- include('nav') %>
  <section id="body">
    <div class="step-title">
      <h2 class="step-description"><%= title %></h2>
    </div>

    <% if (page == 1) { %>
      <!-- Step 1 -->
      <div id="step-1" class="step active">
        <form action="/home-valuation/appointment?step=1" method="post" id="form-1">
          <div class="input-card">
            <label for="firstName">
              First Name
            </label>
            <input required type="text" name="firstName" id="firstName">
          </div>
          <div class="input-card">
            <label for="lastName">
              Last Name
            </label>
            <input required type="text" name="lastName" id="lastName">
          </div>
          <button >Next</button>
        </form>
      </div>
    <% } else if (page == 2) { %>
      <!-- Step 2 -->
      <div id="step-2" class="step active">
        <form action="/home-valuation/appointment?step=2" method="post" id="form-2">
          <div class="hidden">
            <input type="text" name="lastName" value="<%= lastName %>">
            <input type="text" name="firstName" value="<%= firstName %>">
          </div>
          <div class="input-card">
            <label for="email">
              Your Email
            </label>
            <input required type="email" name="email" id="email">
          </div>
          <div class="input-card">
            <label for="phone">
              Your Phone Number
            </label>
            <input required type="tel" name="phone" id="phone">
          </div>
          <button >Next</button>
        </form>
      </div>
    <% } else if (page == 3) { %>
      <!-- Step 3 -->
      <div id="step-3" class="step active">
        <form action="/home-valuation/appointment?step=3" method="post" id="form-3">
          <div class="hidden">
            <input type="text" name="lastName" value="<%= lastName %>">
            <input type="text" name="firstName" value="<%= firstName %>">
            <input type="text" name="email" value="<%= email %>">
            <input type="text" name="phone" value="<%= phone %>">
          </div>
          <div class="input-card">
            <label for="address">Property address</label>
            <input required type="text" name="address" id="address">
          </div>
          <div class="input-card">
            <label for="date">Date schedule</label>
            <input required type="date" name="date" id="date">
          </div>
          <div class="input-card">
            <label for="time">Time schedule</label>
            <input required type="time" name="time" id="time">
          </div>
          <button >Submit</button>
        </form>
      </div>
    <% } %>

    <div class="step-progress">
      <div class="progress-at<%= page >= 1 ? ' passed' : '' %>">1</div>
      <div class="progress-dash <%= page > 1 ? 'passed': '' %>"></div>
      <div class="progress-at<%= page == 2 ? ' active' : page > 2? ' passed': '' %>">2</div>
      <div class="progress-dash<%= page > 2 ? ' passed' : '' %>"></div>
      <div class="progress-at<%= page == 3 ? ' active' : '' %>">3</div>
      <div class="progress-dash"></div>
      <div class="progress-at<%= page >= 4 ? ' done' : '' %>"><i class="fas fa-check"></i></div>
    </div>
  </section>
  <%- include('footer') %>
</body>

  <style>
    #body {
      margin-top: 100px;
    }

    .input-card {
      margin: 10px;
    }

    .input-card input {
      border: 1px solid gray;
    }

    .step{
      display: none;
    }

    .step-title{
      text-align: center;
    }

    .step.active{
      display: block;
      width: fit-content;
      margin: 40px auto;
    }

    .step-progress{
      display: grid;
      grid-template-columns: repeat(7, auto);
      width: fit-content;
      margin: 10px auto;
      align-items: center;
    }

    .progress-at{
      font-size: 25px;
      border-radius: 30px;
      height: 40px;
      width: 40px;
      text-align: center;
      border: 1px solid gray;
      color: gray;
      display: flex;
      align-items: stretch;
      align-content: space-around;
      flex-wrap: wrap;
      justify-content: center;
    }

    .progress-at.active{
      border-color: var(--blue);
      color: var(--blue);
    }

    .progress-at.passed{
      color: white;
      background-color: var(--blue);
      border-color: var(--blue);
    }

    .progress-dash {
      width: 40px;
      height: 3px;
      background-color: gray;
    }

    .progress-dash.passed{
      background-color: var(--blue);
    }

    form button{
      border: 1px solid var(--blue);
      margin-top: 20px;
      background-color: var(--blue);
      color: white;
    }

    form button:disabled{
      color: gray;
      border-color: rgb(188, 188, 188);
    }
  </style>

</html>